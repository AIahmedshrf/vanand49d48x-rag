# ๐ฏ ููุฎุต ุดุงูู - ุฅุตูุงุญ ูุดููุฉ Dockerfile

## ๐ ุงูููุฎุต ุงูุชูููุฐู

ุชู ุงูุชุดุงู ูุญู **ูุดููุฉ ุงูุญุฒู ุบูุฑ ุงููุชุงุญุฉ** ูู Dockerfile ุจูุฌุงุญ! โ

---

## ๐ด ุงููุดููุฉ ุงูุฃุตููุฉ

ุนูุฏ ูุญุงููุฉ ุชุดุบูู ุงููุธุงู ุจุงุณุชุฎุฏุงู `./QUICK_START.sh`:

```
ERROR [3/7] RUN apt-get update && apt-get install -y ...
Package 'libgl1-mesa-glx' has no installation candidate
```

**ุงูุณุจุจ:** ุงูุญุฒูุฉ `libgl1-mesa-glx` ุบูุฑ ูุชุงุญุฉ ูู **Debian trixie**

---

## ๐ข ุงูุญู ุงููุทุจู

### ุชู ุชุญุฏูุซ ุงูู Dockerfile ูุน ุงูุญุฒู ุงูุชุงููุฉ:

| ุงูุญุฒูุฉ | ุงูุชุบููุฑ | ุงูููุงุญุธุฉ |
|--------|--------|---------|
| `libgl1-mesa-glx` | โ `libgl1` | โ ูุชุงุญ |
| `libxrender-dev` | โ `libxrender1` | โ ูุชุงุญ |
| `libavcodec-extra` | โ `libavcodec60` | โ ูุชุงุญ |
| `libavformat-dev` | โ `libavformat60` | โ ูุชุงุญ |
| `libswscale-dev` | โ `libswscale7` | โ ูุชุงุญ |
| `libmagic-dev` | โ ุญุฐู | ุบูุฑ ูุณุชุฎุฏู |

---

## ๐ ุงููููุงุช ุงูููุถุงูุฉ/ุงูููุนุฏููุฉ

### 1. โ Dockerfile (ูุนุฏูู)
```dockerfile
# ูุจู:
libgl1-mesa-glx
libxrender-dev
libavcodec-extra
libavformat-dev
libswscale-dev
libmagic-dev

# ุจุนุฏ:
libgl1
libxrender1
libavcodec60
libavformat60
libswscale7
# (ุญุฐู libmagic-dev)
```

### 2. ๐ DOCKERFILE_FIX.md (ุฌุฏูุฏ)
ุดุฑุญ ุชูุตููู ุนู:
- ุงููุดููุฉ ูุงูุณุจุจ
- ุงูุญู ุงููุทุจู
- ุงูุญุฒู ุงูุจุฏููุฉ
- ุฎุทูุงุช ุงูุฅุตูุงุญ

### 3. ๐ RESTART_INSTRUCTIONS.md (ุฌุฏูุฏ)
ุฎุทูุงุช ูุงุถุญุฉ ูู:
- ุชูุธูู ุงูุจูุฆุฉ
- ุฅุนุงุฏุฉ ุงูุชุดุบูู
- ุงูุชุญูู ูู ุงููุฌุงุญ
- ุงููุตูู ูููุงุฌูุงุช

---

## ๐ ุฎุทูุงุช ุงูุชุดุบูู ุงูุขู

### 1๏ธโฃ ุชูุธูู ุงูุจูุฆุฉ (ููุตู ุจู):
```bash
# ุฅููุงู ุงูุฎุฏูุงุช
docker-compose down

# ุญุฐู ุงูุตูุฑ ุงููุฏููุฉ
docker image prune -a
```

### 2๏ธโฃ ุฅุนุงุฏุฉ ุงูุชุดุบูู:
```bash
# ุงูุทุฑููุฉ ุงูููุตู ุจูุง:
./QUICK_START.sh
# ุงุฎุชุฑ: 2 (ุฃู ุงุถุบุท Enter)

# ุฃู ูุฏููุงู:
docker-compose build --no-cache
docker-compose up -d
```

### 3๏ธโฃ ุงูุชุญูู ูู ุงููุฌุงุญ:
```bash
# ุงุนุฑุถ ุญุงูุฉ ุงูุฎุฏูุงุช
docker-compose ps

# ุงุฎุชุจุฑ ุงูุงุชุตุงู
curl http://localhost:8000/health

# ุงุนุฑุถ ุงูุณุฌูุงุช
docker-compose logs -f backend
```

### 4๏ธโฃ ุงููุตูู ูููุงุฌูุงุช:
```
http://localhost:8000/dashboard
```

---

## โฑ๏ธ ุงูููุช ุงููุชููุน

```
ุจูุงุก ุงูุตูุฑุฉ:    3-5 ุฏูุงุฆู (ูุนุชูุฏ ุนูู ุงูุฅูุชุฑูุช)
ุชุญููู ุงููููุฐุฌ:  5-10 ุฏูุงุฆู (ุชูุฒูู 1.9GB)
ุจุฏุก ุงูุฎุฏูุงุช:    2-3 ุฏูุงุฆู
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
ุงูุฅุฌูุงูู:       10-15 ุฏูููุฉ
```

---

## โจ ุงููุชูุฌุฉ ุงููุชููุนุฉ

ุจุนุฏ ุงูุงูุชูุงุกุ ุณุชุญุตู ุนูู:

```
โ ุตูุฑุฉ Docker ุชู ุจูุงุคูุง ุจูุฌุงุญ
โ ุฌููุน ุงูุญุฒู ูุซุจุชุฉ ุจุดูู ุตุญูุญ
โ 6 ุฎุฏูุงุช ููุฏ ุงูุชุดุบูู:
   โข Backend (8000)
   โข LLM Server (8080)
   โข Qdrant (6334)
   โข TUS Upload (1080)
   โข Prometheus (9090)
   โข Grafana (3000)
โ ุงููููุฐุฌ (Qwen2.5 3B) ูุญููู
โ ุงููุงุฌูุงุช ูุชุงุญุฉ ูุนุงููุฉ
```

---

## ๐ ูุนูููุงุช ุงููุธุงู

| ุงููููู | ุงูุจูุงูุงุช |
|--------|---------|
| **ููุน ุงููุธุงู** | Enterprise RAG |
| **ุงูุจูุฆุฉ** | Docker + Python 3.11 |
| **ูุงุนุฏุฉ ุงูุจูุงูุงุช** | Qdrant Vector |
| **ูููุฐุฌ AI** | Qwen2.5 3B |
| **ุงูุญุงูุฉ** | โ ุฌุงูุฒ ููุชุดุบูู |

---

## ๐ ูู ุญุงูุฉ ุญุฏูุซ ูุดููุฉ ุฃุฎุฑู

### ูุญุต ุงูุณุฌูุงุช:
```bash
# ุงูุณุฌูุงุช ุงูุญูุฉ
docker-compose logs -f

# ุณุฌูุงุช ุฎุฏูุฉ ูุนููุฉ
docker-compose logs -f backend

# ุขุฎุฑ 50 ุณุทุฑ
docker-compose logs --tail=50
```

### ุชูุธูู ูุงูู:
```bash
# ุฅููุงู ุฌููุน ุงูุฎุฏูุงุช
docker-compose down -v

# ุญุฐู ุฌููุน ุงูุตูุฑ ูุงูุฃุญุฌุงู
docker system prune -a --volumes

# ุฅุนุงุฏุฉ ุงูุจูุงุก ูู ุงูุตูุฑ
docker-compose build --no-cache
docker-compose up -d
```

### ุงูุงุฎุชุจุงุฑ ุงููุฏูู:
```bash
# ุงุฎุชุจุฑ ุงูุญุฒู ุงููุฑุฏูุฉ
docker run -it python:3.11-slim bash
apt-get update
apt-get install -y libgl1 libxrender1 libavcodec60
```

---

## ๐ก ูุตุงุฆุญ ูููุฉ

โ **ุงุณุชุฎุฏู `--no-cache`** ุนูุฏ ุงูุจูุงุก ุจุนุฏ ุงูุชุบููุฑุงุช
โ **ุฑุงูุจ ุงูุณุฌูุงุช** ุนูุฏ ุญุฏูุซ ูุดุงูู (`docker-compose logs`)
โ **ูุง ุชุญุฐู `docker-compose.yml`** - ูู ููู ุฃุณุงุณู
โ **ุงุณุชุฎุฏู Docker Desktop** ูููุฑุงูุจุฉ ุงูุจุตุฑูุฉ ุงูุณููุฉ
โ **ุงุญูุธ ุงููุณุงูุฉ ุนูู ุงููุฑุต** - ุงููููุฐุฌ ูุญุชุงุฌ ~2GB

---

## ๐ฑ ุงููุงุฌูุงุช ุงูุฌุงูุฒุฉ

| ุงููุงุฌูุฉ | ุงูุฑุงุจุท | ุงููุตู |
|---------|--------|-------|
| Dashboard | http://localhost:8000/dashboard | ููุญุฉ ุงูุชุญูู |
| Upload | http://localhost:8000/enhanced-upload | ุฑูุน ูููุงุช |
| Chat | http://localhost:8000/enhanced | ุฏุฑุฏุดุฉ ูุน AI |
| API Docs | http://localhost:8000/docs | ุชูุซูู API |
| Grafana | http://localhost:3000 | ุฑุณูู ุจูุงููุฉ |
| Prometheus | http://localhost:9090 | ููุงููุณ |

---

## ๐ ุงูุฎูุงุตุฉ

โ **ุงููุดููุฉ ูุญูููุฉ**
โ **ุงููููุงุช ููุญุฏูุซุฉ**
โ **ุงููุธุงู ุฌุงูุฒ ููุชุดุบูู**
โ **ุงููุซุงุฆู ูุงููุฉ**

### ุงูุฎุทูุฉ ุงูุชุงููุฉ:

```bash
./QUICK_START.sh
# ุงุฎุชุฑ: 2 (ุฃู ุงุถุบุท Enter)
```

---

**ุชุงุฑูุฎ ุงูุฅุตูุงุญ:** ููููุจุฑ 12, 2025
**ุงูุญุงูุฉ:** โ ููุงุฆู ูุฌุงูุฒ
**ุงููุณุคูู:** GitHub Copilot
