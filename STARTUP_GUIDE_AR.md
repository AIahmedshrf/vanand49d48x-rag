# ๐ ุฏููู ุงูุชุดุบูู ุงูุดุงูู - ูุธุงู RAG ูุชูุฏู

**ุชุงุฑูุฎ ุงูุชูุซูู:** ููููุจุฑ 2025

---

## ๐ ููุฏูุฉ ุนู ุงููุธุงู

ูุธุงู **Enterprise RAG** ูู ููุตุฉ ูุชูุงููุฉ ูุชุทูุฑุฉ ููุนุงูุฌุฉ ุงููุณุชูุฏุงุช ูุงุณุชุฎุฑุงุฌ ุงููุนูููุงุช ุจุงุณุชุฎุฏุงู ููุงุฐุฌ ุงูุฐูุงุก ุงูุงุตุทูุงุนู. ูุฌูุน ุจูู:

- โ ูุนุงูุฌุฉ ูุชุนุฏุฏุฉ ุงูุฃุดูุงู (PDF, DOCX, ุตูุฑ, ุตูุช, ููุฏูู)
- โ ูุญุฑู ุจุญุซ ูุชุฌู ุนุงูู ุงูุฃุฏุงุก (Qdrant)
- โ ููุงุฐุฌ LLM ูุชูุฏูุฉ (TinyLlama, Qwen2.5, Qwen2)
- โ ูุงุฌูุฉ ููุงุฏุฉ ููุฑุงูุจุฉ ุดุงููุฉ
- โ API ูุญุณููุฉ ููุชูุงูู

---

## ๐๏ธ ุงูุจููุฉ ุงููุนูุงุฑูุฉ ูููุธุงู

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ               Frontend (React/HTML)                      โ
โ  โข Dashboard - ููุญุฉ ุงูุชุญูู ุงูุฑุฆูุณูุฉ                    โ
โ  โข Upload Interface - ูุงุฌูุฉ ุงูุฑูุน                      โ
โ  โข Chat Interface - ูุงุฌูุฉ ุงูุฏุฑุฏุดุฉ                      โ
โโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ        FastAPI Backend (Python 3.11)                     โ
โ  โโ API Endpoints                                       โ
โ  โโ Document Processing                                 โ
โ  โโ RAG Pipeline                                        โ
โ  โโ Enhanced Upload System                              โ
โโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                 โ
     โโโโโโโโโโโโโผโโโโโโโโโโโโ
     โ           โ           โ
     โผ           โผ           โผ
โโโโโโโโโโโ โโโโโโโโโโโ โโโโโโโโโโโโ
โ Qdrant  โ โllama.cppโ โ TUS      โ
โ Vector  โ โ  LLM    โ โ Upload   โ
โ  DB     โ โ Server  โ โ Service  โ
โโโโโโโโโโโ โโโโโโโโโโโ โโโโโโโโโโโโ
```

### ุงูุฎุฏูุงุช ุงูุฑุฆูุณูุฉ:

#### 1. **Backend (FastAPI)**
- ุงููููุฐ: `8000`
- ุงููุณุคูููุฉ: ูุนุงูุฌุฉ ุงูุทูุจุงุชุ ูุนุงูุฌุฉ ุงููุณุชูุฏุงุชุ ุฅุฏุงุฑุฉ RAG

#### 2. **LLM Server (llama.cpp)**
- ุงููููุฐ: `8080`
- ุงูููุงุฐุฌ ุงููุฏุนููุฉ:
  - TinyLlama 1.1B (ุงูุฃุณุฑุน)
  - Qwen2.5 3B (ูุชูุงุฒู)
  - Qwen2 7B (ุฃุนูู ุฌูุฏุฉ)

#### 3. **Vector Database (Qdrant)**
- ุงููููุฐ: `6333` (GRPC), `6334` (HTTP)
- ุงูุฏูุฑ: ุชุฎุฒูู ูุงุณุชุฑุฌุงุน ุงูุฃุดุนุงุฑุงุช ุงููุชุฌูุฉ

#### 4. **Upload Service (TUS)**
- ุงููููุฐ: `1080`
- ุงูุฏูุฑ: ูุนุงูุฌุฉ ุงูุฑูุน ุงูููุณู ูููููุงุช ุงููุจูุฑุฉ

#### 5. **Monitoring**
- Prometheus: `9090`
- Grafana: `3000` (ุจูุงูุงุช ุงููุณุชุฎุฏู: admin/admin)

---

## ๐ ูุชุทูุจุงุช ุงููุธุงู

### ุงูุญุฏ ุงูุฃุฏูู:
- **RAM:** 8GB
- **CPU:** 2 ุฃูููุฉ
- **ูุณุงุญุฉ:** 2GB

### ุงูููุตู ุจู:
- **RAM:** 16GB ุฃู ุฃูุซุฑ
- **CPU:** 4-8 ุฃูููุฉ
- **ูุณุงุญุฉ:** 20GB (ููููุงุฐุฌ ูุงูุจูุงูุงุช)
- **Docker:** ุงูุฅุตุฏุงุฑ 20+
- **Docker Compose:** ุงูุฅุตุฏุงุฑ 1.29+

### ุงูุฃูุธูุฉ ุงููุฏุนููุฉ:
- โ Linux (Ubuntu, Debian, CentOS)
- โ macOS (Intel, Apple Silicon)
- โ Docker Desktop on Windows

---

## ๐ ุฎุทูุงุช ุงูุชุดุบูู

### **ุงูุทุฑููุฉ ุงูุฃููู: Docker (ููุตู ุจู)**

#### ุงูุฎุทูุฉ 1: ุงุณุชูุณุงุฎ ุงููุณุชูุฏุน
```bash
git clone https://github.com/AIahmedshrf/vanand49d48x-rag.git
cd vanand49d48x-rag
```

#### ุงูุฎุทูุฉ 2: ุงูุชุญูู ูู ุงูุชุจุนูุงุช
```bash
# ุงูุชุญูู ูู Docker
docker --version

# ุงูุชุญูู ูู Docker Compose
docker-compose --version
```

#### ุงูุฎุทูุฉ 3: ุชูุฒูู ุงููููุฐุฌ (ุงุฎุชูุงุฑู - ุณูุชู ุชููุงุฆูุงู)
```bash
# ุฎูุงุฑ 1: ุงูุงุฎุชูุงุฑ ูู ุงููุงุฆูุฉ
./init_model.sh

# ุฎูุงุฑ 2: ุชูุฒูู ูููุฐุฌ ูุญุฏุฏ
MODEL_CONFIG=qwen25_3b ./init_model.sh
```

#### ุงูุฎุทูุฉ 4: ุงุฎุชูุงุฑ ุงููููุฐุฌ ูุชุดุบูู ุงููุธุงู
```bash
# ุงูุทุฑููุฉ ุงูุฃููู: ุงูุงุฎุชูุงุฑ ุงูุชูุงุนูู
./start_enhanced.sh

# ุงูุทุฑููุฉ ุงูุซุงููุฉ: ุชุญุฏูุฏ ุงููููุฐุฌ ูุจุงุดุฑุฉ
./start_enhanced.sh qwen25_3b
```

**ุงูุฎูุงุฑุงุช ุงููุชุงุญุฉ:**
```
1) tinyllama   - TinyLlama-1.1B (ุงูุฃุณุฑุน)
2) qwen25_3b   - Qwen2.5-3B (ูุชูุงุฒู)
3) qwen2_7b    - Qwen2-7B (ุฃุนูู ุฌูุฏุฉ)
```

#### ุงูุฎุทูุฉ 5: ุงููุตูู ูููุงุฌูุงุช
```
๐ฑ ููุญุฉ ุงูุชุญูู ุงูุฑุฆูุณูุฉ: http://localhost:8000/dashboard
๐ ูุงุฌูุฉ ุงูุจุญุซ: http://localhost:8000/enhanced-upload
๐ ุงูุชูุซูู ุงูุชูุงุนูู: http://localhost:8000/docs
๐ Qdrant Dashboard: http://localhost:6333/dashboard
๐ Grafana: http://localhost:3000 (admin/admin)
๐ Prometheus: http://localhost:9090
```

---

### **ุงูุทุฑููุฉ ุงูุซุงููุฉ: ุงูุชุทููุฑ ุงููุญูู**

#### ุงูุฎุทูุฉ 1: ุฅูุดุก ุจูุฆุฉ Python
```bash
# ุฅูุดุงุก ุจูุฆุฉ ุงูุชุฑุงุถูุฉ
python3 -m venv venv

# ุชูุนูู ุงูุจูุฆุฉ
source venv/bin/activate  # Linux/Mac
# ุฃู
venv\Scripts\activate  # Windows
```

#### ุงูุฎุทูุฉ 2: ุชุซุจูุช ุงูุชุจุนูุงุช
```bash
pip install -r requirements.txt
```

#### ุงูุฎุทูุฉ 3: ุชุญููู ุงููููุฐุฌ
```bash
python3 init_model.sh
```

#### ุงูุฎุทูุฉ 4: ุชุดุบูู ุงูุฎูุงุฏู
```bash
# Terminal 1: ุชุดุบูู Backend
cd backend
uvicorn api.main:app --host 0.0.0.0 --port 8000 --reload

# Terminal 2: ุชุดุบูู Qdrant (Docker)
docker run -p 6334:6334 qdrant/qdrant

# Terminal 3: ุชุดุบูู llama.cpp (Docker)
docker run -p 8080:8080 \
  -v ./models:/models \
  ghcr.io/ggerganov/llama.cpp:server \
  --model /models/qwen2.5-3b-instruct-q4_k_m.gguf

# Terminal 4: ุชุดุบูู TUS Upload
docker run -p 1080:1080 \
  -v ./data/uploads:/data \
  tusproject/tusd
```

---

## ๐ง ุงููุชูุฏูุฉ ูุงูุชุฎุตูุต

### ุชุจุฏูู ุงููููุฐุฌ
```bash
./switch_model.sh qwen2_7b
```

### ุชุญุฏูุซ ุงูุชูููู ุงูุฏููุงูููู
```bash
# ูุชู ุงููุดู ุงูุชููุงุฆู ุนู ููุงุฑุฏ ุงููุธุงู
# ููุชู ุชุญุณูู ุงูุฅุนุฏุงุฏุงุช ุจูุงุกู ุนูู:
# - ุนุฏุฏ ุฃูููุฉ ุงููุนุงูุฌ
# - ุญุฌู ุงูุฐุงูุฑุฉ
# - ููุน ุงููุธุงู (Laptop/Workstation/Server/Enterprise)
```

### ูููุงุช ุงูุชูููู ุงูุฑุฆูุณูุฉ:
```yaml
config.yaml                    # ุงูุฅุนุฏุงุฏุงุช ุงูุฃุณุงุณูุฉ
configs/auto_generated.env     # ุงููุชุบูุฑุงุช ุงููููุฏุฉ ุชููุงุฆูุงู
configs/models/               # ุฅุนุฏุงุฏุงุช ุงูููุงุฐุฌ ุงููุญุฏุฏุฉ
```

---

## ๐ ูุฑุงูุจุฉ ุงูุฃุฏุงุก

### ูุญุต ุตุญุฉ ุงูุฎุฏูุงุช
```bash
# ุนุฑุถ ุญุงูุฉ ุฌููุน ุงูุญุงููุงุช
docker-compose ps

# ุนุฑุถ ุงูุณุฌูุงุช
docker-compose logs -f

# ุงุฎุชุจุงุฑ ุตุญุฉ Backend
curl http://localhost:8000/health

# ุงุฎุชุจุงุฑ ุตุญุฉ Qdrant
curl http://localhost:6334/health

# ุงุฎุชุจุงุฑ ุตุญุฉ LLM
curl http://localhost:8080/v1/models
```

### ุนุฑุถ ุงูููุงููุณ
```bash
# Prometheus: http://localhost:9090
# Grafana: http://localhost:3000
# ุงุณุชุฎุฏู ููุญุงุช ุงููุนูููุงุช ุงููุนุฑูุฉ ูุณุจูุงู
```

---

## ๐งช ุงูุงุฎุชุจุงุฑ ูุงูุชุญูู

### ุงุฎุชุจุงุฑ ุงููุธุงู ุงูุดุงูู
```bash
# ุงูุชุญูู ูู ุฌููุน ุงูุฎุฏูุงุช
python3 test_models.py

# ุงุฎุชุจุงุฑ ุงูุฑูุน ุงููุญุณูู
python3 test_enhanced_upload.py

# ุงุฎุชุจุงุฑ ููุญุฉ ุงูุชุญูู
python3 test_dashboard.py
```

### ุงุฎุชุจุงุฑ ุณุฑูุน ูููุงุฌูุฉ ุงูุจุฑูุฌูุฉ
```bash
# ุงุฎุชุจุงุฑ Chat
curl -X POST http://localhost:8000/chat \
  -H "Content-Type: application/json" \
  -d '{
    "query": "ูุฑุญุจุงูุ ููู ููููู ูุณุงุนุฏุชูุ",
    "context": "ุฃูุง ูุธุงู ุฐูุงุก ุงุตุทูุงุนู ูุชูุฏู"
  }'
```

---

## ๐๏ธ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: Port is already in use
```bash
# ุงูุจุญุซ ุนู ุงูุฎุฏูุฉ ุงูุชู ุชุณุชุฎุฏู ุงููููุฐ
lsof -i :8000

# ุฅููุงู ุงูุฎุฏูุฉ ุงููุฏููุฉ
docker-compose down
```

### ุงููุดููุฉ: Model not found
```bash
# ุชุญููู ุงููููุฐุฌ ูุฏููุงู
MODEL_CONFIG=qwen25_3b ./init_model.sh

# ุงูุชุญูู ูู ูุฌูุฏ ุงููููุฐุฌ
ls -la models/
```

### ุงููุดููุฉ: Memory issues
```bash
# ุฒูุงุฏุฉ ุญุฌู ุงูุฐุงูุฑุฉ ุงููุชุงุญุฉ ูู Docker
# ุซู ุฃุนุฏ ุงูุชุดุบูู

# ุชูููู ุญุฌู ุงูุฏูุนุฉ ูู config.yaml
# ุฃู ุงุณุชุฎุฏู ูููุฐุฌ ุฃุตุบุฑ (TinyLlama)
```

### ุงููุดููุฉ: ุงูุฎุฏูุงุช ูู ุชุจุฏุฃ
```bash
# ุนุฑุถ ุงูุณุฌูุงุช ุงูุชูุตูููุฉ
docker-compose logs --tail=50

# ุฅุนุงุฏุฉ ุจูุงุก ุงูุตูุฑ
docker-compose build --no-cache
docker-compose up -d
```

---

## ๐ ุงููุงุฌูุงุช ุงูุจุฑูุฌูุฉ ุงูุฑุฆูุณูุฉ

### Upload API
```python
POST /enhanced-upload/upload
# ุฑูุน ููู ูุน ุชุชุจุน ุงูุชูุฏู

GET /enhanced-upload/files
# ูุงุฆูุฉ ุจุฌููุน ุงููููุงุช ุงููุฑููุนุฉ

DELETE /enhanced-upload/files/{file_id}
# ุญุฐู ููู ูุน ุงูุจูุงูุงุช ุงููุฑุชุจุทุฉ
```

### Chat API
```python
POST /chat
{
  "query": "ุณุคุงูู ููุง",
  "context": "ุงูุณูุงู ุฃู ุงููุณุชูุฏ",
  "history": [...]  # ุงูุญูุงุฑ ุงูุณุงุจู
}
```

### Search API
```python
GET /search?query=ูููุฉ_ุงูุจุญุซ
# ุงูุจุญุซ ูู ุงููุณุชูุฏุงุช ุงููุฑููุนุฉ
```

### Model API
```python
GET /api/models
# ูุงุฆูุฉ ุงูููุงุฐุฌ ุงููุชุงุญุฉ

POST /api/models/switch/{model_name}
# ุชุจุฏูู ุงููููุฐุฌ

GET /api/tiers
# ูุนูููุงุช ุงูุฃุฏุงุก ุงููุฎุชููุฉ
```

---

## ๐ ุงูุฃูุงู ูุงูุฎุตูุตูุฉ

### ุญูุงูุฉ ุงูุจูุงูุงุช
- โ ุญุฐู ุขูู ูููููุงุช (ูุณุญ ูุงูู ูู Qdrant)
- โ ุชุดููุฑ ุงูุจูุงูุงุช ุงููุคูุชุฉ
- โ ุนุฒู ุงูุญุงููุงุช

### CORS Configuration
```python
# ูุณูุญ ุญุงููุงู ุจุฌููุน ุงูุทูุจุงุช (ููุชุทููุฑ)
# ููุฅูุชุงุฌ: ููุฏ ุงููุทุงูุงุช ุงููุณููุญ ุจูุง
```

---

## ๐ ูุตุงุฆุญ ุงูุฃุฏุงุก

### 1. ุงุฎุชูุงุฑ ุงููููุฐุฌ ุงูููุงุณุจ
| ุงููููุฐุฌ | ุงูุณุฑุนุฉ | ุงูุฌูุฏุฉ | ุงูุฐุงูุฑุฉ | ุงูุงุณุชุฎุฏุงู |
|---------|--------|--------|--------|----------|
| TinyLlama | โกโกโก | โญโญ | 4GB | ุงุฎุชุจุงุฑ ุณุฑูุน |
| Qwen2.5 | โกโก | โญโญโญ | 16GB | ุงูุฅูุชุงุฌ |
| Qwen2 7B | โก | โญโญโญโญ | 24GB | ููุงู ูุชูุฏูุฉ |

### 2. ุชุญุณูู ุงูุณุฑุนุฉ
```yaml
# ูู config.yaml
performance:
  threads: 8-12      # ุญุณุจ ุนุฏุฏ ุงูุฃูููุฉ
  batch_size: 256    # ุฒูุงุฏุฉ = ุฃุณุฑุน + ุฐุงูุฑุฉ ุฃูุซุฑ
  gpu_layers: 10     # ุฅุฐุง ูุงู GPU ูุชุงุญุงู
```

### 3. ุชูููู ุงุณุชููุงู ุงูุฐุงูุฑุฉ
```yaml
# ุงุณุชุฎุฏู TinyLlama
# ุฃู ููู context_size ู batch_size
```

---

## ๐ ุงูุชูุณุน ูุงูุฅูุชุงุฌ

### ูุดุฑ ุนูู ุงูุณุญุงุจุฉ
```bash
# Paperspace
./deploy_paperspace.sh

# AWS/GCP
./deploy.sh
```

### ูุน GPU
```bash
docker-compose -f docker-compose.gpu.yml up -d
```

### ููุฅูุชุงุฌ
```bash
docker-compose -f docker-compose.prod.yml up -d
```

---

## ๐ ููุงุฑุฏ ุฅุถุงููุฉ

### ุงููููุงุช ุงููููุฉ
- `README.md` - ุงูุชูุซูู ุงูุฃุณุงุณู
- `docs/DASHBOARD_GUIDE.md` - ุฏููู ููุญุฉ ุงูุชุญูู
- `docs/GPU_ACCELERATION_GUIDE.md` - ุชุณุฑูุน GPU
- `docs/PRODUCTION_DEPLOYMENT.md` - ุงููุดุฑ ุงูุฅูุชุงุฌู

### ุงูุฃุฏูุงุช ูุงูุฃูุงูุฑ ุงููููุฏุฉ
```bash
# ุนุฑุถ ุญุงูุฉ ุงูุฎุฏูุงุช
docker-compose ps

# ูุฑุงูุจุฉ ุงูุณุฌูุงุช ุงูุญูุฉ
docker-compose logs -f

# ุฅููุงู ุฌููุน ุงูุฎุฏูุงุช
docker-compose down

# ุชูุธูู ุงูููุงุฑุฏ
docker-compose down -v

# ุฅุนุงุฏุฉ ุจูุงุก ูุชุดุบูู
docker-compose build --no-cache && docker-compose up -d

# ุงูุฏุฎูู ูุญุงููุฉ
docker exec -it <container_name> bash
```

---

## ๐ ุงูุฏุนู ูุงููุณุงุนุฏุฉ

### ูู ุญุงูุฉ ุงููุดุงูู:
1. ุชุญูู ูู ุงูุณุฌูุงุช: `docker-compose logs`
2. ุชุญูู ูู ุงูููุงูุฐ: `lsof -i :8000`
3. ุฃุนุฏ ุชุดุบูู ุงูุฎุฏูุงุช: `docker-compose restart`
4. ุฑุงุฌุน ุงูุชูุซูู: `docs/` folder

### ุฑูุงุจุท ูููุฏุฉ:
- Qdrant Docs: https://qdrant.tech
- FastAPI: https://fastapi.tiangolo.com
- llama.cpp: https://github.com/ggerganov/llama.cpp

---

**ุชู ุงูุชุญุฏูุซ:** ููููุจุฑ 2025
**ุงูุฅุตุฏุงุฑ:** 1.0.0
